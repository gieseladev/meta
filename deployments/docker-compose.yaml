version:             "3.7"

services:
  router:
    container_name:  crossbar
    expose:
        - 8333
    image:           crossbario/crossbar
    networks:
        - wamp
    ports:
        - 8333:8333
    restart:         unless-stopped
    volumes:
        - ../configs/crossbar-config.json:/node/.crossbar/config.json

  wampus:
    command:         --config /config.yaml
    container_name:  wampus
    image:           gieseladev/wampus
    networks:
        - wamp
    restart:         unless-stopped
    volumes:
        - ../configs/wampus.yaml:/config.yaml

  andesite:
    container_name:  andesite
    expose:
        - 2800
    image:           natanbc/andesite:master
    networks:
        - ari
    restart:         unless-stopped
    volumes:
        - ../configs/andesite-config.conf:/andesite/application.conf

  ari:
    command:         --config /config.yaml
    container_name:  ari
    image:           gieseladev/ari
    networks:
        - ari
        - wamp
    restart:         unless-stopped
    volumes:
        - ../configs/ari.yaml:/config.yaml

networks:
    ari:             {}
    wamp:            {}
